{"version":3,"sources":["setup.js"],"names":["staticMap","frameRate","colorMode","HSB","CENTER","canvas","createCanvas","parent","resize","window","carIndex","environment","simulation","carAmount","Car","truckIndex","truckAmount","Truck","console","table","cars","trucks","wroom","addToQueue","stuckCarsToday","statistics","stuckCarsTotal","Events","on","city","fillQueueWithCities","clearQueueFromCities","brightDir","daysPassed","windowResized","queue","timer","daytimeCycle","backgroundBrightness"],"mappings":"aAKA,SAAIA,QAGAC,UAAU,IADdC,UAAAC,KACIF,SAAAA,QACAC,WACSE,aAAT,IAAA,KAEIC,OAASC,kBAEbD,OAAOE,QAEPC,IAAAA,IAAOC,EAAP,EAAAC,EAAAC,YAAAC,WAAAC,UAAAH,IAGI,IAAII,IACP,IAAA,IAAAC,EAAA,EAAAA,EAAAJ,YAAAC,WAAAI,YAAAD,IAGG,IAAIE,MACPC,QAAAC,MAAAC,MAGDF,QAAQC,MAAME,QAAdH,OAAAA,GAAQC,WAAR,SAAAG,GAGIC,WAAWD,GAAXC,YAAWD,WAAXE,gBAAA,EAGAb,YAAYc,WAAWC,gBAAkB,EAAzCf,2BAGHgB,OAPDC,GAAA,oBAAA,SAAAC,GAUIN,WAAWM,KACdF,OAFDC,GAAA,mBAAA,WAKIE,wBACHH,OAFDC,GAAA,iBAAA,WAKIG,yBACHJ,OAFDC,GAAA,WAAA,WAKII,UAAY,GAAZA,YAAYP,WAAZQ,YAAA,EAGAtB,YAAYc,WAAWD,eAAiB,EADxCb,2BAMJgB,OAAOC,GAAG,aAAc,WAAxBD,WAAU,IAKd,SAASO,gBAAT1B,OAAS0B,QAhET,IAAIC,SACAC,MAAQ,EADRD,aAAJ,EACIC,qBAAJ,EACIC,UAAAA,EACAC,UAAAA,IAAAA,GAAAA","file":"setup.js","sourcesContent":["var queue = []\nvar timer = 1;\nvar daytimeCycle = 1;\nvar backgroundBrightness = 0;\nvar brightDir = 0;\nvar staticMap = new p5(renderMap)\n\nfunction setup() {\n    frameRate(60)\n    colorMode(HSB)\n    rectMode(CENTER)\n    noStroke()\n    var canvas = createCanvas(500, 500)\n\n    canvas.parent('canvas-wrapper');\n\n    resize(window)\n\n    for(var carIndex = 0; carIndex < environment.simulation.carAmount; carIndex++) {\n        new Car()\n    }\n\n    for(var truckIndex = 0; truckIndex < environment.simulation.truckAmount; truckIndex++) {\n        new Truck()\n    }\n\n    console.table(cars)\n    console.table(trucks)\n\n    Events.on('carStuck', function(wroom) {\n        addToQueue(wroom)\n\n        environment.statistics.stuckCarsToday += 1\n        environment.statistics.stuckCarsTotal += 1\n\n        updateAverageStuckCars()\n    })\n\n    Events.on('cityNeedsCharging', function(city) {\n        addToQueue(city);\n    })\n\n    Events.on('nightChargeStart', function() {\n        fillQueueWithCities()\n    })\n\n    Events.on('nightChargeEnd', function() {\n        clearQueueFromCities()\n    })\n\n    Events.on('nightEnd', function() {\n        brightDir = 0.3\n\n        environment.statistics.daysPassed += 1\n        environment.statistics.stuckCarsToday = 0\n        updateAverageStuckCars()\n    })\n\n\n    Events.on('nightStart', function() {\n        brightDir = -1\n    })\n}\n\nfunction windowResized() {\n    resize(window)\n}\n"]}