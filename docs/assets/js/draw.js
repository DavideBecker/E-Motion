"use strict";function draw(){clear();var t=timer%environment.dayDuration;backgroundBrightness=constrain(backgroundBrightness+brightDir,0,255);var r=constrain(backgroundBrightness,0,255);background(255,0,r,.5),environment.daytime=t/environment.dayDuration;for(var e=0;e<cars.length;e++)cars[e].update();for(var n=0;n<trucks.length;n++)trucks[n].update();for(var a=0;a<cities.length;a++){var i=cities[a];Events.isActive("startOfWorkday")&&i.id!=cityDict.Stuttgart&&t%10<1&&i.sendCarTo(Nodes.getByName("Stuttgart")),Events.isActive("endOfWorkday")&&i.id==cityDict.Stuttgart&&t%10<1&&i.sendCarHome(),i.update()}var s=0;for(var g in eventTimes){var d=eventTimes[g];t==d.start&&(Events.enable(g),"nightCharge"==g&&Events.trigger("nightChargeStart")),t==d.end&&(Events.disable(g),"nightCharge"==g&&Events.trigger("nightChargeEnd")),fill(51),s+=1}t==Math.round(eventTimes.startOfWorkday.start/2)&&Events.trigger("nightEnd"),t==Math.round(eventTimes.endOfWorkday.start+environment.dayDuration/20)&&Events.trigger("nightStart"),timer+=1,debugMagic()}
//# sourceMappingURL=draw.js.map
