{"version":3,"sources":["modules/Car.js"],"names":["Car","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","home","Nodes","getRandomTown","location","position","createVector","x","y","capacity","environment","simulation","carCapacity","charge","carChargeLimit","dischargeSpeed","chargeSpeed","type","isSlacker","Math","random","totalCarCharge","enteredCity","cars","push","Vehicle","driveTo","applyMatrix","strokeWeight","fill","chargeToColor","translate","scale","next","rotate","atan2","rect","carSize","resetMatrix","stroke"],"mappings":"43BAAMA,gBACF,SAAAA,IAAcC,gBAAAC,KAAAF,GAAA,IAAAG,EAAAC,2BAAAF,MAAAF,EAAAK,WAAAC,OAAAC,eAAAP,IAAAQ,KAAAN,OAAA,OAGVC,EAAKM,KAAOC,MAAMC,gBAClBR,EAAKS,SAAWT,EAAKM,KACrBN,EAAKU,SAAWC,aAAaX,EAAKS,SAASG,EAAGZ,EAAKS,SAASI,GAC5Db,EAAKc,SAAWC,YAAYC,WAAWC,YACvCjB,EAAKkB,OAASlB,EAAKc,SAAWC,YAAYC,WAAWG,eACrDnB,EAAKoB,eAAiB,OACtBpB,EAAKqB,YAAc,IACnBrB,EAAKsB,KAAO,MACZtB,EAAKuB,UAAYC,KAAKC,UAAY,GAXxBV,YAAAC,WAAAU,gBAAA1B,EAAAkB,OAAAlB,EAAA2B,YAAA3B,EAAAM,MAGVsB,KAAAC,KAAA7B,GAHUA,qBADA8B,2DAQV/B,KAAAgC,QAAAhC,KAAcO,uCAIdP,KAAKwB,SAILS,cAeAC,aAAa,GAbbL,OAAKC,WAjBKK,KAAAC,cAAApC,KAAAmB,OAAAnB,KAAAe,WAkBbsB,UAAArC,KAAAW,SAAAE,EAAAG,YAAAsB,MAAAtC,KAAAW,SAAAG,EAAAE,YAAAsB,OAgBMtC,KAAKuC,MACJC,OAAOC,MAAMzC,KAAKW,SAASG,EAAId,KAAKuC,KAAKzB,EAAGd,KAAKW,SAASE,EAAIb,KAAKuC,KAAK1B,IAE5E6B,KAhBA,EACH,EAkB6B,IAAtB1B,YAAY2B,QACZ3B,YAAY2B,QACZ,GAhBAC,gDAIJV,KAAAA,iBACAW,KAAAA","file":"Car.js","sourcesContent":["class Car extends Vehicle {\n    constructor() {\n        super()\n\n        this.home = Nodes.getRandomTown();\n        this.location = this.home;\n        this.position = createVector(this.location.x, this.location.y);\n        this.capacity = environment.simulation.carCapacity\n        this.charge = this.capacity * environment.simulation.carChargeLimit\n        this.dischargeSpeed = 0.00185;\n        this.chargeSpeed = 0.07;\n        this.type = 'car'\n        this.isSlacker = Math.random() >= 0.1\n\n        environment.simulation.totalCarCharge += this.charge\n\n        this.enteredCity(this.home)\n\n        cars.push(this);\n    }\n\n    driveHome() {\n        this.driveTo(this.home)\n    }\n\n    render() {\n        if(this.inCity) {\n            return\n        }\n\n        applyMatrix()\n        strokeWeight(1)\n        stroke('#444444')\n        fill(chargeToColor(this.charge / this.capacity))\n        translate(this.position.x * environment.scale, this.position.y * environment.scale)\n        if(this.next) {\n            rotate(atan2(this.position.y - this.next.y, this.position.x - this.next.x))\n        }\n        rect(\n            0,\n            0,\n            environment.carSize * 1.5,\n            environment.carSize,\n            4\n        )\n        resetMatrix()\n    }\n\n    update() {\n        this.updatePosition()\n        this.render()\n    }\n}\n"]}