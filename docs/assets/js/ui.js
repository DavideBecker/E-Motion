"use strict";function calculateCarsChargedPerTruck(){var a=calculateChargingCapacity(environment.simulation.static.truck.capacity,environment.simulation.static.truck.mileage,environment.simulation.static.distanceToLocations),t=calculateAmountOfCarsThatCanBeCharged(a,environment.simulation.static.car.capacity,environment.simulation.carChargeLimit),e=calculateTravelTime(environment.simulation.static.distanceBetweenCharges,environment.simulation.static.truck.averageSpeed),n=calculateChargeTime(environment.simulation.static.car.capacity,environment.simulation.static.car.chargeSpeed,environment.simulation.carChargeLimit),r=calculateChargeCycleTime(t,e,n)+1e3*calculateTravelTime(environment.simulation.static.distanceToLocations,environment.simulation.static.truck.averageSpeed),i=calculateAverageChargeTime(t,r);return calculateChargeableCarsInTimeframe(i,convertTime(environment.simulation.truckUptime,"h","s"))}function calulateCarsChargedPerDay(){return Math.floor(calculateCarsChargedPerTruck()*environment.simulation.truckAmount)}function calulateCarsChargedPerMonth(){return Math.floor(calculateCarsChargedPerTruck()*environment.simulation.truckAmount*30.4)}function calulateCarsChargedPerYear(){return Math.floor(calculateCarsChargedPerTruck()*environment.simulation.truckAmount*365.25)}function calulateMaxTruckUptime(){var a=calculateChargingCapacity(environment.simulation.static.truck.capacity,environment.simulation.static.truck.mileage,environment.simulation.static.distanceToLocations),t=calculateAmountOfCarsThatCanBeCharged(a,environment.simulation.static.car.capacity,environment.simulation.carChargeLimit),e=calculateTravelTime(environment.simulation.static.distanceBetweenCharges,environment.simulation.static.truck.averageSpeed),n=calculateChargeTime(environment.simulation.static.car.capacity,environment.simulation.static.car.chargeSpeed,environment.simulation.carChargeLimit),r=calculateChargeCycleTime(t,e,n)+1e3*calculateTravelTime(environment.simulation.static.distanceToLocations,environment.simulation.static.truck.averageSpeed);return prettyTime(r)}function updateCalculations(){for(var a in outputs){var t=outputs[a];t.element.html(t.calculate())}}var stuttgart=Nodes.getByName("Stuttgart"),outputs;$(document).ready(function(){function a(){var a=Math.min(Math.max(Math.round(environment.simulation.totalCarCharge/environment.simulation.carCapacity/environment.simulation.carChargeLimit),0),100)+"%";e.html(a),n.css("width",a)}function t(){a()}outputs={chargesPerDay:{element:$("#chargesPerDay"),calculate:function(){return calulateCarsChargedPerDay()}},chargesPerMonth:{element:$("#chargesPerMonth"),calculate:function(){return calulateCarsChargedPerMonth()}},chargesPerYear:{element:$("#chargesPerYear"),calculate:function(){return calulateCarsChargedPerYear()}},maxTruckUptime:{element:$("#maxTruckUptime"),calculate:function(){return calulateMaxTruckUptime()}}},updateCalculations(),$("#truckAmount").val(environment.simulation.truckAmount),$("#truckUptime").val(environment.simulation.truckUptime),$("#carAmount").val(environment.simulation.carAmount),$("#carChargeLimit").val(environment.simulation.carChargeLimit),$("#sidebar-toggle").click(function(a){a.preventDefault(),$("body").toggleClass("nav-active"),window.dispatchEvent(new Event("resize"))}),$(".param.draggable").each(function(a,t){var e=$(t).val();$(t).hasClass("unit-percent")&&(e*=100),$(t).attr("data-value",Math.floor(e))}),$(".param.draggable").on("input",function(){var a=$(this).val();$(this).hasClass("unit-percent")&&(a*=100),$(this).attr("data-value",Math.floor(a))}),$(".param.numbers .subtract").click(function(){var a=$(this).siblings(".amount"),t=Number(a.val());t>0&&a.val(t-1),a.trigger("change")}),$(".param.numbers .amount").change(function(){var a=$(this),t=Number(a.val()),e=Number(a.attr("max"));t>e&&a.val(e),t<0&&a.val(0)}),$(".param.numbers .add").click(function(){var a=$(this).siblings(".amount"),t=Number(a.val()),e=Number(a.attr("max"));t<e?a.val(t+1):a.val(e),a.trigger("change")}),$("#truckAmount").change(function(){var a=Number($(this).val())-environment.simulation.truckAmount;console.log("truckAmount changed by",a),updateAmountOfTrucks(a)}),$("#carAmount").change(function(){var a=Number($(this).val())-environment.simulation.carAmount;console.log("carAmount changed by",a),updateAmountOfCars(a)}),$("#truckUptime").change(function(){console.log("truckUptime changed"),environment.simulation.truckUptime=Number($(this).val())}),$("#carChargeLimit").change(function(){console.log("carChargeLimit changed"),environment.simulation.carChargeLimit=Number($(this).val())}),$(".update-sim").change(function(){updateCalculations()});var e=$("#average-charge > .bar > .progress > .amount"),n=$("#average-charge > .bar > .progress");t();setInterval(t,250)});
//# sourceMappingURL=ui.js.map
